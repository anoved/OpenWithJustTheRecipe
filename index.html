<html>
<head>
    <title>Open with Just The Recipe - bookmarklet</title>
    <style type="text/css">
        body {
            font-family: sans-serif;
            font-size: large;
            margin: 30px;
        }
        .ready {
            border: 1px solid blue;
            padding: 6px;
            border-radius: 6px;
            background: #eef;
        }
    </style>
    <script type="text/javascript" src="uglifyjs.js"></script>
    <script type="text/javascript" src="OpenWithJustTheRecipe.js"></script>
    <script>
        
        function CreateLink() {

            // cribbed from bookmarkletify
            var toplevel_ast = UglifyJS.parse(OpenWithJustTheRecipe.toString() + "OpenWithJustTheRecipe();");
            toplevel_ast.figure_out_scope();
            var compressor = UglifyJS.Compressor();
            var compressed_ast = toplevel_ast.transform(compressor);
            compressed_ast.figure_out_scope();

            var url = "javascript: (function () {" + compressed_ast.print_to_string() + "}())";
            document.getElementById("bookmarkletLink").href = url;
            document.getElementById("bookmarkletLink").className = "ready";
        };

        function ClickHelp() {
            alert("Drag this link to your bookmark bar.");
            return false;
        };
    </script>

</head>
<body onload="CreateLink();">

<h1>Open with Just The Recipe</h1>

<p>Drag this link to your bookmarks bar to install:</p>

<p><strong><a href="#" id="bookmarkletLink" onclick="return ClickHelp();" title="Drag this link to your bookmark bar.">Open with Just The Recipe</a></strong></p>

<h2>Usage</h2>

    <p><img src="jtr-screenshot.jpg" alt="Open with Just The Recipe screenshot"></p>
    
<p>Go to a recipe web page. Click the <em>Open with Just The Recipe</em> bookmarklet to reload the page with <a href="https://www.justtherecipe.app/">Just The Recipe</a>.</p>

<h3>Project</h3>

<p>Visit the <a href="https://github.com/anoved/OpenWithJustTheRecipe">OpenWithJustTheRecipe project page</a> for more information or to report <a href="https://github.com/anoved/OpenWithJustTheRecipe/issues">issues</a>.</p>

</body>
</html>

